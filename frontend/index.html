<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ—ºï¸ LLM Google Maps Integration</title>
    <link rel="stylesheet" href="./assets/css/style.css" />
</head>

<body>
    <div class="health-status" id="healthStatus">
        <div class="status-item">
            <span class="status-indicator offline" id="ollamaStatus"></span>
            <span>Ollama: <strong id="ollamaText">Checking...</strong></span>
        </div>
        <div class="status-item">
            <span class="status-indicator offline" id="apiStatus"></span>
            <span>Maps API: <strong id="apiText">Checking...</strong></span>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1>ğŸ—ºï¸ LLM Maps Finder</h1>
            <p>AI-powered location search with Google Maps integration</p>
        </div>

        <div class="card">
            <div class="tabs">
                <button class="tab active" onclick="switchTab('location')">ğŸ“ Find Location</button>
                <button class="tab" onclick="switchTab('nearby')">ğŸ” Nearby Places</button>
                <button class="tab" onclick="switchTab('reverse')">ğŸ§­ Reverse Geocode</button>
            </div>

            <!-- Location Search Tab -->
            <div id="locationTab" class="tab-content active">
                <div class="input-group">
                    <select id="queryType">
                        <option value="location">ğŸ“ Location</option>
                        <option value="place">ğŸª Place/Business</option>
                        <option value="street">ğŸ›£ï¸ Street/Road</option>
                        <option value="building">ğŸ¢ Building/Landmark</option>
                    </select>
                    <input type="text" id="promptInput"
                        placeholder="e.g., 'Show me Malioboro Yogyakarta' or 'Find Pizza Hut Jakarta'"
                        onkeypress="if(event.key==='Enter') searchLocation()" />
                    <button onclick="searchLocation()" id="searchBtn">Search</button>
                </div>

                <div class="examples">
                    <p><strong>ğŸ’¡ Try these examples:</strong></p>
                    <span class="example-btn" onclick="setExample('Show me Borobudur Temple', 'building')">ğŸ›ï¸
                        Borobudur</span>
                    <span class="example-btn" onclick="setExample('Find Eiffel Tower Paris', 'building')">ğŸ—¼ Eiffel
                        Tower</span>
                    <span class="example-btn" onclick="setExample('Malioboro Street Yogyakarta', 'street')">ğŸ›ï¸
                        Malioboro</span>
                    <span class="example-btn" onclick="setExample('Starbucks Senayan Jakarta', 'place')">â˜•
                        Starbucks</span>
                </div>

                <div class="loading" id="loading">
                    ğŸ”„ Processing your request
                </div>

                <div class="error" id="error"></div>

                <div class="result" id="result">
                    <h3>ğŸ“ Location Found</h3>
                    <div class="info-box" id="locationInfo"></div>
                    <div class="map-container" id="mapContainer"></div>
                    <a href="#" target="_blank" class="link-button" id="openMapsLink">ğŸ—ºï¸ Open in Google Maps</a>
                    <button onclick="findNearby()" id="findNearbyBtn" style="background: #34a853;">ğŸ” Find Nearby Places</button>
                </div>
            </div>

            <!-- Nearby Places Tab -->
            <div id="nearbyTab" class="tab-content">
                <div class="input-group">
                    <input type="number" id="nearbyLat" placeholder="Latitude" step="any" />
                    <input type="number" id="nearbyLng" placeholder="Longitude" step="any" />
                    <select id="placeType">
                        <option value="restaurant">ğŸ½ï¸ Restaurant</option>
                        <option value="cafe">â˜• Cafe</option>
                        <option value="hotel">ğŸ¨ Hotel</option>
                        <option value="hospital">ğŸ¥ Hospital</option>
                        <option value="atm">ğŸ§ ATM</option>
                        <option value="bank">ğŸ¦ Bank</option>
                        <option value="gas_station">â›½ Gas Station</option>
                        <option value="pharmacy">ğŸ’Š Pharmacy</option>
                    </select>
                    <button onclick="searchNearby()" id="nearbyBtn">Search Nearby</button>
                </div>

                <div class="loading" id="loadingNearby">
                    ğŸ”„ Searching nearby places
                </div>

                <div class="error" id="errorNearby"></div>

                <div class="result" id="resultNearby">
                    <h3>ğŸ” Nearby Places</h3>
                    <div class="info-box" id="nearbyInfo"></div>
                    <div class="places-grid" id="placesGrid"></div>
                </div>
            </div>

            <!-- Reverse Geocode Tab -->
            <div id="reverseTab" class="tab-content">
                <div class="input-group">
                    <input type="number" id="reverseLat" placeholder="Latitude" step="any" />
                    <input type="number" id="reverseLng" placeholder="Longitude" step="any" />
                    <button onclick="reverseGeocode()" id="reverseBtn">Find Address</button>
                </div>

                <div class="examples">
                    <p><strong>ğŸ’¡ Try these coordinates:</strong></p>
                    <span class="example-btn" onclick="setReverseExample(-7.7956, 110.3695)">ğŸ“ Yogyakarta Center</span>
                    <span class="example-btn" onclick="setReverseExample(-6.2088, 106.8456)">ğŸ“ Jakarta Center</span>
                    <span class="example-btn" onclick="setReverseExample(-7.6079, 110.2038)">ğŸ“ Borobudur</span>
                </div>

                <div class="loading" id="loadingReverse">
                    ğŸ”„ Finding address
                </div>

                <div class="error" id="errorReverse"></div>

                <div class="result" id="resultReverse">
                    <h3>ğŸ§­ Address Found</h3>
                    <div class="info-box" id="reverseInfo"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="./assets/js/llm.js"></script>
</body>

</html>